--- sander/file_io_dat.F90	2019-04-25 08:49:58.000000000 -0400
+++ sander/file_io_dat.F90	2019-08-31 12:53:15.505657444 -0400
@@ -9,7 +9,7 @@
 
 ! Size of the file names
 integer, parameter :: MAX_FN_LEN = 256
-integer, parameter :: MAX_LINE_BUF_LEN = 256
+integer, parameter :: MAX_LINE_BUF_LEN = 65664 ! 65536 + 128
 
 ! File names
 character(len=4096) , save :: groupbuffer    ! Buffer for groupfile lines
--- sander/interface.F90	2018-12-05 15:34:36.000000000 -0500
+++ sander/interface.F90	2019-08-31 12:48:48.272491184 -0400
@@ -107,7 +107,7 @@
       integer :: mask_from_ref ! Antoine Marion
 
       ! Character string arrays
-      character(len=256) :: restraintmask
+      character(len=65536) :: restraintmask
       character(len=256) :: bellymask
       character(len=256) :: refc
    end type sander_input
--- sander/nmr.F90	2019-04-25 08:49:58.000000000 -0400
+++ sander/nmr.F90	2019-08-31 13:17:27.853306643 -0400
@@ -892,7 +892,7 @@
 !+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
 !+ [Enter a one-line description of subroutine echoin here]
 subroutine echoin(in,iout)
-   
+   use file_io_dat, only : MAX_LINE_BUF_LEN
    
    ! Subroutine ECHO INput
    
@@ -909,7 +909,7 @@
    implicit none
    integer:: i, in, iout
    
-   character(len=256) aa
+   character(len=MAX_LINE_BUF_LEN) aa
 
    ! Echo the standard Amber input lines:
    
--- sander/sander.h	2018-12-05 15:34:36.000000000 -0500
+++ sander/sander.h	2019-08-31 12:27:38.594191554 -0400
@@ -77,7 +77,7 @@
     int mask_from_ref;
 
     // Strings
-    char restraintmask[256];
+    char restraintmask[65536];
     char bellymask[256];
     char refc[256];
 } sander_input;
--- include/md.h	2019-04-25 08:49:57.000000000 -0400
+++ include/md.h	2019-08-31 12:42:00.267426053 -0400
@@ -94,7 +94,7 @@
 ! ... strings:
 
 character(len=4) iwtnm,iowtnm,ihwtnm
-character(len=256) restraintmask,bellymask,tgtfitmask,&
+character(len=65536) restraintmask,bellymask,tgtfitmask,&
             tgtrmsmask,noshakemask,crgmask,iwrap_mask
 common/mds/ restraintmask,bellymask,tgtfitmask,tgtrmsmask,noshakemask,crgmask,  &
             iwtnm,iowtnm,ihwtnm(2),iwrap_mask
